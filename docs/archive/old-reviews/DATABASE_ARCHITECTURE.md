# IrysBase ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜ ìƒì„¸ ë¶„ì„

## ğŸ” í•µì‹¬ ê²°ë¡ 

**IrysBaseëŠ” í•˜ì´ë¸Œë¦¬ë“œ ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:**
- **PostgreSQL**: ë¹ ë¥¸ ì¿¼ë¦¬, ê´€ê³„í˜• ë°ì´í„°, ì‹¤ì‹œê°„ í˜‘ì—…ì„ ìœ„í•œ ì£¼ ë°ì´í„°ë² ì´ìŠ¤
- **Irys DataChain**: ì˜êµ¬ ì €ì¥ì†Œ, ë¶ˆë³€ì„± ì¦ëª…, ë¸”ë¡ì²´ì¸ ë³´ì¥ì„ ìœ„í•œ ë³´ì¡° ì €ì¥ì†Œ
- **Redis**: ìºì‹œ ë ˆì´ì–´ (ì„ íƒì )

**Irysë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.** PostgreSQLì´ ì£¼ ë°ì´í„°ë² ì´ìŠ¤ì´ë©°, IrysëŠ” ë°ì´í„°ì˜ ì˜êµ¬ì„±ê³¼ ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ë°±ì—…/ì¦ëª… ë ˆì´ì–´ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ êµ¬ì¡°

### 1. í•µì‹¬ ì—”í‹°í‹° ëª¨ë¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PostgreSQL Database                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  User â”€â”¬â”€â†’ Project â”€â”¬â”€â†’ Document â”€â”¬â”€â†’ Version                   â”‚
â”‚        â”‚            â”‚              â”‚                             â”‚
â”‚        â”‚            â”‚              â”œâ”€â†’ Comment                   â”‚
â”‚        â”‚            â”‚              â”‚                             â”‚
â”‚        â”‚            â”‚              â””â”€â†’ IrysTransaction           â”‚
â”‚        â”‚            â”‚                                            â”‚
â”‚        â”‚            â””â”€â†’ Collaborator                             â”‚
â”‚        â”‚                                                         â”‚
â”‚        â”œâ”€â†’ Document                                              â”‚
â”‚        â”‚                                                         â”‚
â”‚        â”œâ”€â†’ Comment                                               â”‚
â”‚        â”‚                                                         â”‚
â”‚        â””â”€â†’ Version                                               â”‚
â”‚                                                                  â”‚
â”‚  Additional Models:                                              â”‚
â”‚  - VectorEmbedding (AI ê²€ìƒ‰)                                     â”‚
â”‚  - AIAnalysis (AI ë¶„ì„ ê²°ê³¼)                                     â”‚
â”‚  - ProgrammableDataRule (ìë™í™” ê·œì¹™)                            â”‚
â”‚  - UserExtended (ì‚¬ìš©ì í”„ë¡œí•„)                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ ë¹„ë™ê¸° ì—…ë¡œë“œ
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Irys DataChain                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  - í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„° (ì˜êµ¬ ì €ì¥)                               â”‚
â”‚  - ë¬¸ì„œ ì „ì²´ ë‚´ìš© (ë¶ˆë³€ ì €ì¥)                                    â”‚
â”‚  - ë²„ì „ ìŠ¤ëƒ…ìƒ· (Git-like íˆìŠ¤í† ë¦¬)                               â”‚
â”‚  - íŠ¸ëœì­ì…˜ IDë¥¼ í†µí•œ ì¦ëª…                                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ì‹¤ì œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ë³„ ë°ì´í„° íë¦„

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì‚¬ìš©ì Aliceê°€ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±

#### ë‹¨ê³„ë³„ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…:

```
1ï¸âƒ£ Aliceê°€ ì§€ê°‘ ì—°ê²° (0x1234...abcd)

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: users í…Œì´ë¸”             â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx1...                         â”‚
   â”‚ address: 0x1234...abcd              â”‚
   â”‚ role: null                          â”‚
   â”‚ createdAt: 2025-01-15T10:00:00Z     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   JWT í† í° ìƒì„± â†’ localStorageì— ì €ì¥


2ï¸âƒ£ Aliceê°€ "Documentation Hub" í”„ë¡œì íŠ¸ ìƒì„±

   Frontend ìš”ì²­:
   mutation {
     createProject(input: {
       name: "Documentation Hub"
       slug: "docs-hub"
       description: "Technical documentation"
       visibility: "PUBLIC"
     })
   }

   Backend ì²˜ë¦¬:

   a) PostgreSQLì— í”„ë¡œì íŠ¸ ìƒì„±
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: projects í…Œì´ë¸”          â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx2...                         â”‚
   â”‚ name: Documentation Hub             â”‚
   â”‚ slug: docs-hub                      â”‚
   â”‚ description: Technical documentationâ”‚
   â”‚ ownerId: clx1... (Aliceì˜ user.id)  â”‚
   â”‚ visibility: PUBLIC                  â”‚
   â”‚ settings: {}                        â”‚
   â”‚ irysId: null â† ì•„ì§ ì—†ìŒ             â”‚
   â”‚ permanentUrl: null                  â”‚
   â”‚ createdAt: 2025-01-15T10:01:00Z     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   b) ë°±ê·¸ë¼ìš´ë“œì—ì„œ Irys ì—…ë¡œë“œ (ë¹„ë™ê¸°)

   setImmediate(() => {
     // í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„° JSON ìƒì„±
     metadata = {
       type: 'project',
       projectId: 'clx2...',
       name: 'Documentation Hub',
       slug: 'docs-hub',
       createdAt: '2025-01-15T10:01:00Z'
     }

     // Irysì— ì—…ë¡œë“œ
     irysId = await irysService.uploadData(
       JSON.stringify(metadata),
       tags: [
         { name: 'Content-Type', value: 'application/json' },
         { name: 'entity-type', value: 'project' },
         { name: 'project-id', value: 'clx2...' }
       ]
     )

     // PostgreSQL ì—…ë°ì´íŠ¸
     UPDATE projects
     SET irysId = 'irys-tx-abc123',
         permanentUrl = 'https://gateway.irys.xyz/irys-tx-abc123'
     WHERE id = 'clx2...'
   })

   ê²°ê³¼ (ì—…ë°ì´íŠ¸ í›„):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: projects í…Œì´ë¸”          â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx2...                         â”‚
   â”‚ name: Documentation Hub             â”‚
   â”‚ irysId: irys-tx-abc123 âœ…           â”‚
   â”‚ permanentUrl: https://...abc123 âœ…  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   c) WebSocket ì´ë²¤íŠ¸ ë°œí–‰
   pubsub.publish(PROJECT_UPDATED, {
     type: 'CREATED',
     projectId: 'clx2...',
     data: { ... }
   })


3ï¸âƒ£ Aliceê°€ "Getting Started" ë¬¸ì„œ ìƒì„±

   Frontend ìš”ì²­:
   mutation {
     createDocument(input: {
       projectId: "clx2..."
       path: "/getting-started"
       title: "Getting Started"
       content: "# Getting Started\n\nWelcome to our docs..."
       tags: ["tutorial", "beginner"]
     })
   }

   Backend ì²˜ë¦¬:

   a) ì½˜í…ì¸  í•´ì‹œ ìƒì„±
   contentHash = sha256("# Getting Started\n\nWelcome...")
                = "7f83b1657ff1fc53b92dc18148a1d65dfc2d4b1fa3d677284addd200126d9069"

   b) PostgreSQLì— ë¬¸ì„œ ì €ì¥
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: documents í…Œì´ë¸”         â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx3...                         â”‚
   â”‚ projectId: clx2...                  â”‚
   â”‚ path: /getting-started              â”‚
   â”‚ title: Getting Started              â”‚
   â”‚ content: # Getting Started\n...     â”‚
   â”‚ contentHash: 7f83b165...            â”‚
   â”‚ authorId: clx1... (Alice)           â”‚
   â”‚ version: 1                          â”‚
   â”‚ tags: ["tutorial", "beginner"]      â”‚
   â”‚ irysId: null â† ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì²˜ë¦¬ë¨ â”‚
   â”‚ createdAt: 2025-01-15T10:05:00Z     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   c) ë°±ê·¸ë¼ìš´ë“œ Irys ì—…ë¡œë“œ

   setImmediate(async () => {
     // ë¬¸ì„œ ì „ì²´ ë°ì´í„° ìƒì„±
     docData = {
       id: 'clx3...',
       title: 'Getting Started',
       content: '# Getting Started\n\nWelcome...',
       projectId: 'clx2...',
       authorId: 'clx1...',
       createdAt: '2025-01-15T10:05:00Z'
     }

     // Irysì— ì—…ë¡œë“œ (ì•½ 2KB ë°ì´í„°)
     uploadResult = await storageService.uploadFile(
       'documents',
       {
         name: 'document-clx3....json',
         data: Buffer.from(JSON.stringify(docData)),
         type: 'application/json',
         size: 2048  // bytes
       }
     )

     // PostgreSQL ì—…ë°ì´íŠ¸ (ë¬¸ì„œ)
     UPDATE documents
     SET irysId = 'irys-tx-def456',
         irysProof = '{"signature": "...", "timestamp": ...}'
     WHERE id = 'clx3...'

     // PostgreSQLì— íŠ¸ëœì­ì…˜ ê¸°ë¡
     INSERT INTO irys_transactions (
       transactionId: 'irys-tx-def456',
       type: 'upload',
       status: 'confirmed',
       size: 2048,
       cost: 0.0000051,  // $2.5/GB ê¸°ì¤€ ê³„ì‚°
       documentId: 'clx3...',
       gatewayUrl: 'https://gateway.irys.xyz/irys-tx-def456',
       receipt: { ... },
       confirmedAt: NOW()
     )
   })

   ê²°ê³¼ (ì—…ë°ì´íŠ¸ í›„):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: documents               â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx3...                         â”‚
   â”‚ irysId: irys-tx-def456 âœ…           â”‚
   â”‚ irysProof: {"signature": ...} âœ…    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: irys_transactions       â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx4...                         â”‚
   â”‚ transactionId: irys-tx-def456       â”‚
   â”‚ type: upload                        â”‚
   â”‚ status: confirmed                   â”‚
   â”‚ size: 2048 bytes                    â”‚
   â”‚ cost: 0.0000051 USD                 â”‚
   â”‚ documentId: clx3...                 â”‚
   â”‚ gatewayUrl: https://...def456       â”‚
   â”‚ confirmedAt: 2025-01-15T10:05:03Z   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   d) WebSocket ì´ë²¤íŠ¸
   pubsub.publish(DOCUMENT_CHANGED, {
     type: 'CREATED',
     documentId: 'clx3...',
     userId: 'clx1...'
   })
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: Bobì´ í˜‘ì—…ìë¡œ ì¶”ê°€ë˜ì–´ ë¬¸ì„œ ìˆ˜ì •

```
4ï¸âƒ£ Aliceê°€ Bobì„ í˜‘ì—…ìë¡œ ì¶”ê°€

   mutation {
     addCollaborator(input: {
       projectId: "clx2..."
       userAddress: "0x5678...efgh"
       role: "EDITOR"
     })
   }

   Backend ì²˜ë¦¬:

   a) Bobì˜ User ë ˆì½”ë“œ ìƒì„± (ì—†ìœ¼ë©´)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: users                   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx5...                         â”‚
   â”‚ address: 0x5678...efgh (Bob)        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   b) Collaborator ê´€ê³„ ìƒì„±
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: collaborators           â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx6...                         â”‚
   â”‚ projectId: clx2...                  â”‚
   â”‚ userId: clx5... (Bob)               â”‚
   â”‚ role: EDITOR                        â”‚
   â”‚ permissions: []                     â”‚
   â”‚ createdAt: 2025-01-15T10:10:00Z     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


5ï¸âƒ£ Bobì´ ë¬¸ì„œë¥¼ ìˆ˜ì •

   mutation {
     updateDocument(input: {
       id: "clx3..."
       content: "# Getting Started\n\nWelcome to our docs!\n\n## Installation\n..."
     })
   }

   Backend ì²˜ë¦¬:

   a) ê¶Œí•œ í™•ì¸
   SELECT * FROM collaborators
   WHERE projectId = 'clx2...' AND userId = 'clx5...' AND role IN ('EDITOR', 'ADMIN', 'OWNER')
   âœ… Bobì€ EDITOR ê¶Œí•œ ìˆìŒ

   b) ìƒˆ ì½˜í…ì¸  í•´ì‹œ ìƒì„±
   newContentHash = sha256("# Getting Started\n\nWelcome to our docs!\n\n## Installation...")
                  = "9a2f3c8d..."

   c) PostgreSQL ë¬¸ì„œ ì—…ë°ì´íŠ¸
   UPDATE documents
   SET content = "# Getting Started\n\nWelcome to our docs!\n\n## Installation...",
       contentHash = "9a2f3c8d...",
       version = 2,  â† ë²„ì „ ì¦ê°€
       updatedAt = NOW()
   WHERE id = 'clx3...'

   d) Version ë ˆì½”ë“œ ìƒì„± (Git-like íˆìŠ¤í† ë¦¬)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PostgreSQL: versions                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: clx7...                         â”‚
   â”‚ documentId: clx3...                 â”‚
   â”‚ versionNumber: 2                    â”‚
   â”‚ content: # Getting Started\n...     â”‚
   â”‚ contentDiff: Changed from version 1 â”‚
   â”‚ authorId: clx5... (Bob)             â”‚
   â”‚ commitMessage: Update document      â”‚
   â”‚ irysId: null â† ë°±ê·¸ë¼ìš´ë“œ ì—…ë¡œë“œ     â”‚
   â”‚ createdAt: 2025-01-15T10:15:00Z     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   e) ë°±ê·¸ë¼ìš´ë“œ Irys ë²„ì „ ì—…ë¡œë“œ

   setImmediate(async () => {
     versionData = {
       documentId: 'clx3...',
       versionNumber: 2,
       content: '# Getting Started\n...',
       authorId: 'clx5...',
       timestamp: '2025-01-15T10:15:00Z'
     }

     // Irysì— ìƒˆ ë²„ì „ ì—…ë¡œë“œ
     irysId = await irysService.uploadData(
       JSON.stringify(versionData),
       tags: [
         { name: 'entity-type', value: 'version' },
         { name: 'document-id', value: 'clx3...' },
         { name: 'version-number', value: '2' }
       ]
     )

     // Version ë ˆì½”ë“œ ì—…ë°ì´íŠ¸
     UPDATE versions
     SET irysId = 'irys-tx-ghi789'
     WHERE id = 'clx7...'
   })

   f) ì‹¤ì‹œê°„ í˜‘ì—… ì´ë²¤íŠ¸
   pubsub.publish(DOCUMENT_CHANGED, {
     type: 'UPDATED',
     documentId: 'clx3...',
     userId: 'clx5...',
     change: {
       version: 2,
       updatedBy: 'Bob (0x5678...efgh)'
     }
   })

   â†’ Aliceì˜ ë¸Œë¼ìš°ì €ì— ì‹¤ì‹œê°„ ë°˜ì˜ (WebSocket)
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: Aliceê°€ Usage Dashboard í™•ì¸

```
6ï¸âƒ£ Aliceê°€ Storage Metrics ì¡°íšŒ

   query {
     userStorage {
       totalBytes
       totalGB
       monthlyCostUSD
       projectCount
       projects {
         projectId
         name
         totalGB
       }
     }
   }

   Backend ì²˜ë¦¬:

   a) Aliceì˜ ëª¨ë“  í”„ë¡œì íŠ¸ ì°¾ê¸°
   SELECT id FROM projects WHERE ownerId = 'clx1...'
   â†’ ['clx2...']

   b) ê° í”„ë¡œì íŠ¸ì˜ Irys íŠ¸ëœì­ì…˜ ì¡°íšŒ
   SELECT * FROM irys_transactions
   WHERE documentId IN (
     SELECT id FROM documents WHERE projectId = 'clx2...'
   ) AND status = 'confirmed'

   ê²°ê³¼:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ transactionId    â”‚ size (bytes) â”‚ cost (USD)   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ irys-tx-def456   â”‚ 2048         â”‚ 0.0000051    â”‚
   â”‚ (ë” ë§ì€ ë¬¸ì„œë“¤...)                              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   c) ì§‘ê³„ ê³„ì‚°
   totalBytes = SUM(size) = 2048 + ... = 524,288 bytes
   totalGB = 524,288 / (1024^3) = 0.00048828125 GB
   monthlyCostUSD = 0.00048828125 * $2.5 = $0.00122

   Response:
   {
     userStorage: {
       totalBytes: 524288,
       totalGB: 0.00048828125,
       monthlyCostUSD: 0.00122,
       projectCount: 1,
       projects: [
         {
           projectId: "clx2...",
           name: "Documentation Hub",
           totalGB: 0.00048828125,
           documents: [...]
         }
       ]
     }
   }
```

---

## ğŸ“ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„¸

### ì£¼ìš” í…Œì´ë¸” ê´€ê³„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚ 1
      â”‚
      â”‚ N
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Project   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Collaboratorâ”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    N    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ 1
      â”‚
      â”‚ N
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Document   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Version    â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    1:N  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚            1:N  â”‚  Comment    â”‚
      â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   1:N  â”‚ IrysTransaction     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. **users** í…Œì´ë¸”

```sql
CREATE TABLE users (
  id TEXT PRIMARY KEY,                    -- cuid: clx1abc...
  address TEXT UNIQUE NOT NULL,           -- ì§€ê°‘ ì£¼ì†Œ: 0x1234...
  role TEXT,                              -- ì‚¬ìš©ì ì—­í• 
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP
);

-- ì˜ˆì‹œ ë°ì´í„°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id      â”‚ address          â”‚ role â”‚ created_at          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx1... â”‚ 0x1234...abcd    â”‚ null â”‚ 2025-01-15 10:00:00 â”‚
â”‚ clx5... â”‚ 0x5678...efgh    â”‚ null â”‚ 2025-01-15 10:10:00 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. **projects** í…Œì´ë¸”

```sql
CREATE TABLE projects (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT,
  slug TEXT UNIQUE NOT NULL,
  owner_id TEXT REFERENCES users(id),
  settings JSONB DEFAULT '{}',
  is_public BOOLEAN DEFAULT FALSE,
  visibility TEXT DEFAULT 'private',

  -- Irys ì˜êµ¬ ì €ì¥ì†Œ ì •ë³´
  irys_id TEXT UNIQUE,                    -- Irys íŠ¸ëœì­ì…˜ ID
  permanent_url TEXT,                     -- ì˜êµ¬ URL

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP
);

-- ì˜ˆì‹œ ë°ì´í„°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id      â”‚ name             â”‚ slug     â”‚ owner_id â”‚ irys_id          â”‚ permanent_url          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx2... â”‚ Documentation Hubâ”‚ docs-hub â”‚ clx1...  â”‚ irys-tx-abc123   â”‚ https://...abc123      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. **documents** í…Œì´ë¸” (í•µì‹¬!)

```sql
CREATE TABLE documents (
  id TEXT PRIMARY KEY,
  project_id TEXT REFERENCES projects(id),
  path TEXT NOT NULL,
  title TEXT NOT NULL,
  content TEXT NOT NULL,                  -- ğŸ“ ì „ì²´ ì½˜í…ì¸  (PostgreSQLì— ì €ì¥)
  content_hash TEXT NOT NULL,             -- SHA-256 í•´ì‹œ (ë¬´ê²°ì„± ê²€ì¦)
  order INTEGER DEFAULT 0,

  -- Irys ì˜êµ¬ ì €ì¥ì†Œ
  irys_id TEXT UNIQUE,                    -- ğŸ’¾ Irys íŠ¸ëœì­ì…˜ ID
  irys_proof TEXT,                        -- ë¸”ë¡ì²´ì¸ ì¦ëª…
  permanent_url TEXT,                     -- ì˜êµ¬ ì ‘ê·¼ URL

  -- ë©”íƒ€ë°ì´í„°
  metadata JSONB DEFAULT '{}',
  tags TEXT[] DEFAULT ARRAY[]::TEXT[],

  -- ë²„ì „ ê´€ë¦¬
  version INTEGER DEFAULT 1,

  -- ê´€ê³„
  author_id TEXT REFERENCES users(id),

  -- í”„ë¡œê·¸ë˜ë¨¸ë¸” ë°ì´í„°
  access_rules JSONB,
  triggers JSONB DEFAULT '[]',

  -- AI ê¸°ëŠ¥
  embedding JSONB,                        -- ë²¡í„° ì„ë² ë”© (1536ì°¨ì›)
  summary TEXT,
  ai_suggestions JSONB,

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP,
  published_at TIMESTAMP,

  UNIQUE(project_id, path)
);

-- ì˜ˆì‹œ ë°ì´í„°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id      â”‚ project_idâ”‚ path             â”‚ title           â”‚ content_hashâ”‚ irys_id          â”‚ version â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx3... â”‚ clx2...   â”‚ /getting-started â”‚ Getting Started â”‚ 7f83b165... â”‚ irys-tx-def456   â”‚ 2       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

-- ì‹¤ì œ content í•„ë“œ ì˜ˆì‹œ:
content: "# Getting Started\n\nWelcome to our docs!\n\n## Installation\n\n```bash\nnpm install\n```"
```

### 4. **versions** í…Œì´ë¸” (Git-like ë²„ì „ ê´€ë¦¬)

```sql
CREATE TABLE versions (
  id TEXT PRIMARY KEY,
  document_id TEXT REFERENCES documents(id),
  version_number INTEGER NOT NULL,
  content TEXT NOT NULL,                  -- í•´ë‹¹ ë²„ì „ì˜ ì „ì²´ ì½˜í…ì¸ 
  content_diff TEXT,                      -- ì´ì „ ë²„ì „ê³¼ì˜ ì°¨ì´

  -- ë¸”ë¡ì²´ì¸ ì¦ëª…
  irys_id TEXT UNIQUE,                    -- ê° ë²„ì „ë„ Irysì— ì €ì¥
  block_height BIGINT,
  block_hash TEXT,
  signature TEXT,
  timestamp TIMESTAMP DEFAULT NOW(),

  author_id TEXT REFERENCES users(id),
  commit_message TEXT NOT NULL,

  created_at TIMESTAMP DEFAULT NOW(),

  UNIQUE(document_id, version_number)
);

-- ì˜ˆì‹œ ë°ì´í„°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id      â”‚ document_id â”‚ version_number â”‚ author_id         â”‚ irys_id          â”‚ commit_messageâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx7... â”‚ clx3...     â”‚ 1              â”‚ clx1... (Alice)   â”‚ irys-tx-jkl101   â”‚ Initial       â”‚
â”‚ clx8... â”‚ clx3...     â”‚ 2              â”‚ clx5... (Bob)     â”‚ irys-tx-ghi789   â”‚ Add install   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. **irys_transactions** í…Œì´ë¸” (Irys ì—…ë¡œë“œ ì¶”ì )

```sql
CREATE TABLE irys_transactions (
  id TEXT PRIMARY KEY,
  transaction_id TEXT UNIQUE NOT NULL,    -- Irys ë¸”ë¡ì²´ì¸ íŠ¸ëœì­ì…˜ ID
  type TEXT NOT NULL,                     -- 'upload', 'programmable', 'permanent'
  status TEXT NOT NULL,                   -- 'pending', 'confirmed', 'failed'
  size BIGINT NOT NULL,                   -- ë°”ì´íŠ¸ ë‹¨ìœ„ í¬ê¸°
  cost DECIMAL,                           -- USD ë¹„ìš©
  tags JSONB DEFAULT '{}',
  metadata JSONB DEFAULT '{}',

  -- ê´€ê³„
  document_id TEXT REFERENCES documents(id),

  -- Gateway ì •ë³´
  gateway_url TEXT,                       -- https://gateway.irys.xyz/{tx_id}
  receipt JSONB,                          -- Irys ì˜ìˆ˜ì¦

  created_at TIMESTAMP DEFAULT NOW(),
  confirmed_at TIMESTAMP
);

-- ì˜ˆì‹œ ë°ì´í„°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id      â”‚ transaction_id   â”‚ type     â”‚ status    â”‚ size â”‚ cost        â”‚ document_id â”‚ gateway_url            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx4... â”‚ irys-tx-def456   â”‚ upload   â”‚ confirmed â”‚ 2048 â”‚ 0.0000051   â”‚ clx3...     â”‚ https://...def456      â”‚
â”‚ clx9... â”‚ irys-tx-mno112   â”‚ upload   â”‚ confirmed â”‚ 3584 â”‚ 0.0000089   â”‚ clx10...    â”‚ https://...mno112      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

-- ë¹„ìš© ê³„ì‚° ê³µì‹:
cost = (size_in_bytes / (1024^3)) * 2.5  // $2.5 per GB
```

### 6. **collaborators** í…Œì´ë¸”

```sql
CREATE TABLE collaborators (
  id TEXT PRIMARY KEY,
  project_id TEXT REFERENCES projects(id),
  user_id TEXT REFERENCES users(id),
  role TEXT DEFAULT 'viewer',             -- 'owner', 'admin', 'editor', 'viewer'
  permissions JSONB DEFAULT '[]',

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP,

  UNIQUE(project_id, user_id)
);

-- ì˜ˆì‹œ ë°ì´í„°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id      â”‚ project_id â”‚ user_id â”‚ role   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx6... â”‚ clx2...    â”‚ clx5... â”‚ editor â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7. **comments** í…Œì´ë¸”

```sql
CREATE TABLE comments (
  id TEXT PRIMARY KEY,
  document_id TEXT REFERENCES documents(id),
  content TEXT NOT NULL,
  author_id TEXT REFERENCES users(id),

  -- ìŠ¤ë ˆë“œ (ëŒ€ëŒ“ê¸€)
  parent_id TEXT REFERENCES comments(id),

  -- ì¸ë¼ì¸ ì½”ë©˜íŠ¸ ìœ„ì¹˜
  position JSONB,                         -- { line: 42, column: 10 }

  resolved BOOLEAN DEFAULT FALSE,
  resolved_at TIMESTAMP,
  resolved_by TEXT,

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP
);
```

---

## ğŸ”„ ë°ì´í„° íë¦„ íŒ¨í„´

### Pattern 1: ì¦‰ì‹œ ì €ì¥ (PostgreSQL) + ë¹„ë™ê¸° ì—…ë¡œë“œ (Irys)

```javascript
// ì‚¬ìš©ì ìš”ì²­ â†’ ì¦‰ì‹œ ì‘ë‹µ (ë¹ ë¦„)
async createDocument(input) {
  // 1. PostgreSQLì— ì¦‰ì‹œ ì €ì¥ (< 10ms)
  const document = await prisma.document.create({
    data: { ...input }
  });

  // 2. ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ ì‘ë‹µ
  return document;  // âœ… ë¹ ë¥¸ ì‘ë‹µ

  // 3. ë°±ê·¸ë¼ìš´ë“œì—ì„œ Irys ì—…ë¡œë“œ (ë¹„ë™ê¸°, ìˆ˜ ì´ˆ ì†Œìš”)
  setImmediate(async () => {
    try {
      const irysId = await irysService.upload(document);
      await prisma.document.update({
        where: { id: document.id },
        data: { irysId, permanentUrl: `https://...${irysId}` }
      });
    } catch (error) {
      // ì‹¤íŒ¨í•´ë„ PostgreSQLì—ëŠ” ì´ë¯¸ ì €ì¥ë¨
      console.error('Irys upload failed:', error);
    }
  });
}
```

**ì¥ì :**
- âœ… ì‚¬ìš©ì ê²½í—˜: ì¦‰ê°ì ì¸ ì‘ë‹µ (< 100ms)
- âœ… ë°ì´í„° ì•ˆì „ì„±: PostgreSQLì— ë¨¼ì € ì €ì¥ë˜ë¯€ë¡œ ë°ì´í„° ì†ì‹¤ ì—†ìŒ
- âœ… ì˜êµ¬ì„±: ë°±ê·¸ë¼ìš´ë“œì—ì„œ Irysì— ì—…ë¡œë“œí•˜ì—¬ ë¸”ë¡ì²´ì¸ ì¦ëª… íšë“
- âœ… ë³µì›ë ¥: Irys ì‹¤íŒ¨í•´ë„ ì„œë¹„ìŠ¤ ê³„ì† ë™ì‘

**ë‹¨ì :**
- âš ï¸ ì¼ì‹œì  ë¶ˆì¼ì¹˜: irysIdê°€ nullì¸ ìƒíƒœ ì¡´ì¬ (ëª‡ ì´ˆê°„)
- âš ï¸ ì¶”ê°€ ì €ì¥ì†Œ ë¹„ìš©: PostgreSQL + Irys ë‘˜ ë‹¤ ì‚¬ìš©

### Pattern 2: ì¿¼ë¦¬ ìµœì í™” (PostgreSQLì—ì„œ ì½ê¸°)

```javascript
// ëŒ€ë¶€ë¶„ì˜ ì¿¼ë¦¬ëŠ” PostgreSQLë§Œ ì‚¬ìš©
query {
  project(id: "clx2...") {
    name                    // PostgreSQL
    documents {             // PostgreSQL
      title                 // PostgreSQL
      content               // PostgreSQL
      version               // PostgreSQL
    }
  }
}

// IrysëŠ” ì¦ëª…/ë³µêµ¬ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©
query {
  document(id: "clx3...") {
    permanentUrl           // Irys URL (ì½ê¸° ì „ìš©)
    irysProof              // ë¸”ë¡ì²´ì¸ ì¦ëª…
  }
}
```

### Pattern 3: ë¹„ìš© ì¶”ì  (IrysTransaction í…Œì´ë¸”)

```javascript
// ëª¨ë“  Irys ì—…ë¡œë“œëŠ” ì¶”ì ë¨
await prisma.irysTransaction.create({
  data: {
    transactionId: 'irys-tx-xyz',
    type: 'upload',
    status: 'confirmed',
    size: BigInt(2048),        // 2KB
    cost: 0.0000051,           // $0.0000051
    documentId: 'clx3...',
    confirmedAt: new Date()
  }
});

// ì‚¬ìš©ëŸ‰ ì¡°íšŒ
const userStorage = await prisma.irysTransaction.aggregate({
  where: {
    document: { project: { ownerId: 'clx1...' } },
    status: 'confirmed'
  },
  _sum: { size: true, cost: true }
});

// ê²°ê³¼:
// totalBytes: 1,048,576 (1MB)
// totalCost: $0.00244 (1MB * $2.5/GB)
```

---

## ğŸ” Irysì˜ ì—­í• 

### IrysëŠ” ë‹¤ìŒ ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤:

1. **ì˜êµ¬ ì €ì¥ì†Œ (Permanent Storage)**
   - ëª¨ë“  í”„ë¡œì íŠ¸/ë¬¸ì„œ/ë²„ì „ì˜ ìŠ¤ëƒ…ìƒ·ì„ ë¸”ë¡ì²´ì¸ì— ì˜êµ¬ ì €ì¥
   - ì‚­ì œ ë¶ˆê°€ëŠ¥, ë³€ì¡° ë¶ˆê°€ëŠ¥í•œ ê¸°ë¡ ìœ ì§€

2. **ë¶ˆë³€ì„± ì¦ëª… (Immutability Proof)**
   - ê° ë¬¸ì„œì˜ `irysId`ì™€ `irysProof`ë¥¼ í†µí•´ ë¸”ë¡ì²´ì¸ ì¦ëª… ì œê³µ
   - ë²•ì  ì¦ê±°, ì €ì‘ê¶Œ ë³´í˜¸, ê°ì‚¬ ì¶”ì  ê°€ëŠ¥

3. **ì¬í•´ ë³µêµ¬ (Disaster Recovery)**
   - PostgreSQLì´ ì†ìƒë˜ì–´ë„ Irysì—ì„œ ëª¨ë“  ë°ì´í„° ë³µêµ¬ ê°€ëŠ¥
   - `permanentUrl`ì„ í†µí•´ ì–¸ì œë“  ì›ë³¸ ì ‘ê·¼

4. **ë¶„ì‚°í™” ë³´ì¥ (Decentralization)**
   - ì¤‘ì•™í™”ëœ ì„œë²„ ì—†ì´ë„ ë°ì´í„° ì ‘ê·¼ ê°€ëŠ¥
   - Irys ê²Œì´íŠ¸ì›¨ì´: `https://gateway.irys.xyz/{transactionId}`

### Irysë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°:

- âŒ ì‹¤ì‹œê°„ ì¿¼ë¦¬ (ë„ˆë¬´ ëŠë¦¼)
- âŒ ë³µì¡í•œ ê´€ê³„í˜• ì¿¼ë¦¬ (ì§€ì› ì•ˆ ë¨)
- âŒ ë¹ˆë²ˆí•œ ì—…ë°ì´íŠ¸ (ë¹„ìš© ë¬¸ì œ)
- âŒ ëŒ€ìš©ëŸ‰ íŒŒì¼ (ë¹„ìš© ë¬¸ì œ, í˜„ì¬ëŠ” ì‘ì€ JSONë§Œ)

---

## ğŸ’° ë¹„ìš© ë¶„ì„

### ì‹¤ì œ ì˜ˆì‹œ ë°ì´í„°:

```
Aliceì˜ í”„ë¡œì íŠ¸ "Documentation Hub":
- ë¬¸ì„œ 10ê°œ
- ê° ë¬¸ì„œ í‰ê·  5KB
- í‰ê·  ë²„ì „ 3ê°œì”©

ì´ ë°ì´í„°:
- ë¬¸ì„œ ì›ë³¸: 10 Ã— 5KB = 50KB
- ë²„ì „ íˆìŠ¤í† ë¦¬: 10 Ã— 3 Ã— 5KB = 150KB
- í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„°: 1KB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´í•©: 201KB = 0.000196 GB

ì›”ê°„ ë¹„ìš©:
0.000196 GB Ã— $2.5/GB = $0.00049 (~$0.0005)
```

### PostgreSQL vs Irys ë¹„ìš© ë¹„êµ:

| í•­ëª© | PostgreSQL | Irys |
|------|-----------|------|
| ìŠ¤í† ë¦¬ì§€ | ~$0.10/GB/ì›” | $2.50/GB (ì¼íšŒì„±) |
| ì¿¼ë¦¬ ì†ë„ | < 10ms | ìˆ˜ë°± ms ~ ìˆ˜ ì´ˆ |
| ì˜êµ¬ì„± | ë°±ì—… í•„ìš” | ì˜êµ¬ ë³´ì¥ |
| ë¹„ìš© (1GB/1ë…„) | $1.20 | $2.50 (í•œ ë²ˆë§Œ) |

**ê²°ë¡ :**
- ì½ê¸°/ì“°ê¸°ê°€ ë¹ˆë²ˆí•œ ë°ì´í„° â†’ PostgreSQL
- í•œ ë²ˆ ì“°ê³  ì˜êµ¬ ë³´ê´€ â†’ Irys

---

## ğŸ¯ ì„¤ê³„ ì² í•™ ì •ë¦¬

### IrysBaseëŠ” í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ ë°©ì‹ì„ ì±„íƒí•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              IrysBase ì•„í‚¤í…ì²˜                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                   â”‚
â”‚  [PostgreSQL] â† ì£¼ ë°ì´í„°ë² ì´ìŠ¤                    â”‚
â”‚   âœ“ ë¹ ë¥¸ CRUD ì‘ì—…                                 â”‚
â”‚   âœ“ ë³µì¡í•œ ì¿¼ë¦¬ (JOIN, ì§‘ê³„)                       â”‚
â”‚   âœ“ ì‹¤ì‹œê°„ í˜‘ì—…                                    â”‚
â”‚   âœ“ ë²„ì „ ê´€ë¦¬                                      â”‚
â”‚   âœ“ ì‚¬ìš©ì ì¸ì¦                                    â”‚
â”‚                                                   â”‚
â”‚  [Irys DataChain] â† ì˜êµ¬ ë³´ê´€ + ì¦ëª…               â”‚
â”‚   âœ“ ë¶ˆë³€ ì €ì¥ì†Œ                                    â”‚
â”‚   âœ“ ë¸”ë¡ì²´ì¸ ì¦ëª…                                  â”‚
â”‚   âœ“ ì¬í•´ ë³µêµ¬                                      â”‚
â”‚   âœ“ ë¶„ì‚°í™” ë³´ì¥                                    â”‚
â”‚                                                   â”‚
â”‚  [Redis] â† ì„ íƒì  ìºì‹œ                             â”‚
â”‚   âœ“ ì¸ì¦ ì±Œë¦°ì§€ ì„ì‹œ ì €ì¥                          â”‚
â”‚   âœ“ Irys ì¿¼ë¦¬ ê²°ê³¼ ìºì‹±                            â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë°ì´í„° íë¦„:
1. ì‚¬ìš©ì ìš”ì²­ â†’ PostgreSQL ì €ì¥ (ì¦‰ì‹œ)
2. PostgreSQL â†’ ì‚¬ìš©ì ì‘ë‹µ (ë¹ ë¦„)
3. ë°±ê·¸ë¼ìš´ë“œ â†’ Irys ì—…ë¡œë“œ (ë¹„ë™ê¸°)
4. Irys í™•ì¸ â†’ PostgreSQL ì—…ë°ì´íŠ¸ (irysId ê¸°ë¡)
```

### ì™œ Irysë§Œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê°€?

**ê¸°ìˆ ì  ì œì•½:**
1. â±ï¸ **ì¿¼ë¦¬ ì†ë„**: IrysëŠ” GraphQL ì¿¼ë¦¬ê°€ ëŠë¦¼ (ìˆ˜ ì´ˆ)
2. ğŸ” **ì¿¼ë¦¬ ì œì•½**: ë³µì¡í•œ JOIN, ì§‘ê³„ ë¶ˆê°€ëŠ¥
3. ğŸ’µ **ë¹„ìš©**: ëª¨ë“  ì—…ë°ì´íŠ¸ë§ˆë‹¤ ë¸”ë¡ì²´ì¸ ë¹„ìš© ë°œìƒ
4. ğŸ”„ **ì‹¤ì‹œê°„ í˜‘ì—…**: WebSocket ì§€ì› ì—†ìŒ

**í˜„ì‹¤ì  í•„ìš”:**
- ì‚¬ìš©ìëŠ” < 100ms ì‘ë‹µ ê¸°ëŒ€
- ë³µì¡í•œ ê¶Œí•œ ì²´í¬ (Collaborator JOIN)
- ë¹ˆë²ˆí•œ ë²„ì „ ì—…ë°ì´íŠ¸
- ì‹¤ì‹œê°„ ë™ì‹œ í¸ì§‘

### í•˜ì´ë¸Œë¦¬ë“œì˜ ì¥ì :

âœ… **ìµœê³ ì˜ ë‘ ì„¸ê³„**
- PostgreSQLì˜ ì†ë„ + Irysì˜ ì˜êµ¬ì„±
- ì „í†µì  DBì˜ ìœ ì—°ì„± + ë¸”ë¡ì²´ì¸ì˜ ë³´ì•ˆì„±

âœ… **ë‹¨ê³„ë³„ ë§ˆì´ê·¸ë ˆì´ì…˜**
- ì´ˆê¸°: PostgreSQLë§Œ ì‚¬ìš© (ë¹ ë¥¸ ê°œë°œ)
- ì„±ì¥: Irys ì¶”ê°€ (ì˜êµ¬ì„± ë³´ì¥)
- í™•ì¥: ì„ íƒì ìœ¼ë¡œ Irys í™œìš©ë„ ì¦ê°€

âœ… **ë¹„ìš© ìµœì í™”**
- ìì£¼ ë°”ë€ŒëŠ” ë°ì´í„° â†’ PostgreSQL (ì €ë ´)
- ì˜êµ¬ ë³´ê´€ ë°ì´í„° â†’ Irys (ì•ˆì „)

---

## ğŸ“Š ì™„ì „í•œ ë°ì´í„° ì˜ˆì‹œ

### Aliceì˜ ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        PostgreSQL Database                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Table: users                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id      â”‚ address          â”‚ role â”‚ created_at                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx1abc â”‚ 0x1234...abcd    â”‚ null â”‚ 2025-01-15 10:00:00         â”‚
â”‚ clx5def â”‚ 0x5678...efgh    â”‚ null â”‚ 2025-01-15 10:10:00         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Table: projects                                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id      â”‚ name             â”‚ slug     â”‚ owner_id â”‚ irys_id          â”‚ permanent_url     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx2ghi â”‚ Documentation Hubâ”‚ docs-hub â”‚ clx1abc  â”‚ irys-tx-abc123   â”‚ https://...abc123 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Table: documents                                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id      â”‚ project_idâ”‚ path             â”‚ title           â”‚ author_idâ”‚ irys_id          â”‚versionâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx3jkl â”‚ clx2ghi   â”‚ /getting-started â”‚ Getting Started â”‚ clx1abc  â”‚ irys-tx-def456   â”‚ 2     â”‚
â”‚ clx10mn â”‚ clx2ghi   â”‚ /installation    â”‚ Installation    â”‚ clx1abc  â”‚ irys-tx-mno112   â”‚ 1     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜

Document content (clx3jkl):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Getting Started

Welcome to our documentation!

## Installation

```bash
npm install @irysbase/sdk
```

## Quick Start

1. Initialize the SDK
2. Create your first project
3. Start building
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Table: versions                                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¤
â”‚ id      â”‚ document_id â”‚ version_number â”‚ author_id     â”‚ irys_id          â”‚commitâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx7opq â”‚ clx3jkl     â”‚ 1              â”‚ clx1abc       â”‚ irys-tx-jkl101   â”‚ Init â”‚
â”‚ clx8rst â”‚ clx3jkl     â”‚ 2              â”‚ clx5def (Bob) â”‚ irys-tx-ghi789   â”‚ +instâ”‚
â”‚ clx11uv â”‚ clx10mn     â”‚ 1              â”‚ clx1abc       â”‚ irys-tx-pqr113   â”‚ Init â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Table: collaborators                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id      â”‚ project_id â”‚ user_id â”‚ role   â”‚ created_at              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clx6wxy â”‚ clx2ghi    â”‚ clx5def â”‚ editor â”‚ 2025-01-15 10:10:00     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Table: irys_transactions                                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¤
â”‚ id      â”‚ transaction_id   â”‚ type     â”‚ status    â”‚ size â”‚ cost        â”‚ document_id â”‚confâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ clx4zab â”‚ irys-tx-abc123   â”‚ upload   â”‚ confirmed â”‚  512 â”‚ 0.000001275 â”‚ null (proj) â”‚ âœ… â”‚
â”‚ clx9bcd â”‚ irys-tx-def456   â”‚ upload   â”‚ confirmed â”‚ 2048 â”‚ 0.000005100 â”‚ clx3jkl     â”‚ âœ… â”‚
â”‚ clx12ef â”‚ irys-tx-mno112   â”‚ upload   â”‚ confirmed â”‚ 3584 â”‚ 0.000008925 â”‚ clx10mn     â”‚ âœ… â”‚
â”‚ clx13gh â”‚ irys-tx-jkl101   â”‚ upload   â”‚ confirmed â”‚ 1536 â”‚ 0.000003825 â”‚ clx3jkl (v1)â”‚ âœ… â”‚
â”‚ clx14ij â”‚ irys-tx-ghi789   â”‚ upload   â”‚ confirmed â”‚ 2560 â”‚ 0.000006375 â”‚ clx3jkl (v2)â”‚ âœ… â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

Total Storage for Alice:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Project metadata:           512 bytes
Documents (2):           5,632 bytes
Versions (3):            4,096 bytes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total:                  10,240 bytes = 0.00001 GB
Monthly Cost:           $0.0000255 USD
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

## ğŸš€ ê²°ë¡ 

### IrysBase ë°ì´í„°ë² ì´ìŠ¤ ì „ëµ:

1. **PostgreSQL = ìš´ì˜ ë°ì´í„°ë² ì´ìŠ¤**
   - ëª¨ë“  CRUD ì‘ì—…
   - ì‚¬ìš©ì ê²½í—˜ ìµœìš°ì„ 
   - ë¹ ë¥¸ ì¿¼ë¦¬ (<10ms)

2. **Irys = ì˜êµ¬ ë³´ê´€ì†Œ + ì¦ëª… ë ˆì´ì–´**
   - ë°±ê·¸ë¼ìš´ë“œ ë¹„ë™ê¸° ì—…ë¡œë“œ
   - ë¸”ë¡ì²´ì¸ ë¶ˆë³€ì„± ë³´ì¥
   - ì¬í•´ ë³µêµ¬ ë°±ì—…

3. **í•˜ì´ë¸Œë¦¬ë“œ = ìµœì ì˜ ê· í˜•**
   - ì†ë„ + ë³´ì•ˆ
   - ë¹„ìš© íš¨ìœ¨ì„±
   - ë‹¨ê³„ë³„ í™•ì¥ ê°€ëŠ¥

### ì§ˆë¬¸ ë‹µë³€:

> "ì¶”ê°€ì ì¸ DBê°€ ë”°ë¡œ ìˆëŠ”ê²Œ ì•„ë‹ˆë¼ irysë§Œì„ ì‚¬ìš©í•˜ë„ë¡ ì„¤ê³„ëœ ê²ƒì´ ë§ëŠ”ì§€"

**ë‹µë³€: ì•„ë‹ˆìš”, Irysë§Œ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

- **ì£¼ ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL (ì‹¤ì‹œê°„ ì‘ì—…)
- **ë³´ì¡° ì €ì¥ì†Œ**: Irys (ì˜êµ¬ ë³´ê´€)
- **ì—­í•  ë¶„ë‹´**: PostgreSQL (ì½ê¸°/ì“°ê¸°) + Irys (ì¦ëª…/ë°±ì—…)

ì´ ì„¤ê³„ëŠ” **í˜„ì‹¤ì ì´ê³  ì‹¤ìš©ì **ì…ë‹ˆë‹¤:
- âœ… ë¹ ë¥¸ ì‚¬ìš©ì ê²½í—˜
- âœ… ë¸”ë¡ì²´ì¸ ì˜êµ¬ì„± ë³´ì¥
- âœ… ë¹„ìš© íš¨ìœ¨ì 
- âœ… í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜
